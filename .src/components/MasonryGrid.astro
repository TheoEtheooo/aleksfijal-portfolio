---
interface Props {
  images: string[];
  columns?: number;
}

const { images, columns = 4 } = Astro.props;
---

<div class={`masonry-container grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-${columns} auto-rows-[200px]`}>
  {images.map((src, index) => (
    <div 
      class={`masonry-item group relative overflow-hidden rounded-lg cursor-pointer transition-all duration-500 hover:scale-[1.02] ${
        index % 7 === 0 ? 'row-span-2' : 
        index % 5 === 0 ? 'row-span-3' : 
        'row-span-2'
      }`}
    >
      <img 
        src={src} 
        alt={`Gallery image ${index + 1}`} 
        class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out"
        loading="lazy"
      />
      
      <!-- Overlay -->
      <div class="absolute inset-0 bg-gradient-to-t from-dark-bg/90 via-dark-bg/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500">
        <div class="absolute bottom-4 left-4 right-4">
          <div class="text-2xl font-heading font-bold text-white mb-1">
            {String(index + 1).padStart(2, '0')}
          </div>
        </div>
      </div>
      
      <!-- Border glow on hover -->
      <div class="absolute inset-0 border-2 border-transparent group-hover:border-neon-purple/50 group-hover:border-glow-purple rounded-lg transition-all duration-500"></div>
    </div>
  ))}
</div>

<style>
  .masonry-container {
    grid-auto-flow: dense;
  }
</style>