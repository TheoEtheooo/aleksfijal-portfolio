---
// src/components/Navbar.astro
---
<nav id="main-nav" class="fixed top-6 left-0 w-full z-50 transition-all duration-500 ease-out">
    <div class="max-w-[1000px] mx-auto px-4">
        <div class="bg-black/80 backdrop-blur-xl rounded-full flex justify-between items-center pl-10 pr-2 py-2 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.7)]">
            
            <a href="/" class="text-white text-2xl font-black uppercase tracking-[-0.05em] leading-none hover:text-[#00f0ff] transition-colors duration-300">
                Aleks Fijał
            </a>

            <div class="hidden md:flex gap-8 items-center font-mono text-[10px] uppercase tracking-[0.2em] text-zinc-500">
                <a href="#portfolio" class="hover:text-white transition-colors">Portfolio</a>
                <a href="#about" class="hover:text-white transition-colors">O mnie</a>
            </div>

            <div class="relative group">
                <a href="#contact" class="relative inline-flex items-center justify-center px-8 py-4 overflow-hidden rounded-full bg-black transition-transform active:scale-95">
                    
                    <span class="absolute inset-0">
                        <span class="absolute inset-[-150%] animate-[spin_3s_linear_infinite] bg-[conic-gradient(from_0deg,transparent_0deg,transparent_280deg,#00f0ff_360deg)] group-hover:bg-[conic-gradient(from_0deg,transparent_0deg,transparent_180deg,#f2ff00_360deg)]"></span>
                    </span>

                    <span class="absolute inset-[2px] bg-[#0a0a0a] rounded-full group-hover:bg-zinc-900 transition-colors"></span>

                    <span class="relative font-mono text-[11px] font-bold text-white uppercase tracking-widest group-hover:text-[#00f0ff]">
                        Kontakt
                    </span>
                </a>
            </div>
        </div>
    </div>
</nav>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@900&family=JetBrains+Mono:wght@500;800&display=swap');

    /* Stylizacja czcionek */
    a { font-family: 'Inter', sans-serif; }
    .font-mono { font-family: 'JetBrains Mono', monospace; }

    /* Animacja obrotu dla neonu */
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    #main-nav {
        will-change: transform;
    }
</style>

<script>
    let lastScrollY = window.scrollY;
    const nav = document.getElementById('main-nav');

    window.addEventListener('scroll', () => {
        if (!nav) return;
        const currentScrollY = window.scrollY;

        // Skokowe chowanie/pokazywanie
        if (currentScrollY > lastScrollY && currentScrollY > 60) {
            // Chowamy wyżej niż zwykle, żeby całkowicie zniknął z pola widzenia
            nav.style.transform = 'translateY(-180%)';
        } else {
            // Powrót z lekkim opóźnieniem dla płynności (ease-out)
            nav.style.transform = 'translateY(0)';
        }
        
        lastScrollY = currentScrollY;
    }, { passive: true });
</script>